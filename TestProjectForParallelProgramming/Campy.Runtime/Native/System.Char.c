// Copyright (c) 2012 DotNetAnywhere
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

#include "Compat.h"
#include "Sys.h"

#include "System.Char.h"

#include "MetaData.h"
#include "Types.h"
#include "Type.h"

#include "System.Char.UC_IndexRuns.h"
#include "System.Char.CaseConversion.h"

#define UC_INDEX_LEN (sizeof(UC_Index) / 4)
function_space_specifier tAsyncCall* System_Char_GetUnicodeCategory(PTR pThis_, PTR pParams, PTR pReturnValue) {
    unsigned short UC_Index[] = {
        0x0000, 0x000e, 0x0020, 0x8000, 0x0030, 0x0008, 0x003a, 0x8010, // 0000
        0x0041, 0x0000, 0x005b, 0x8017, 0x0061, 0x0001, 0x007b, 0x801d, // 0004
        0x007f, 0x000e, 0x00a0, 0x8021, 0x00c0, 0x0000, 0x00d7, 0x800b, // 0008
        0x00d8, 0x0000, 0x00df, 0x0001, 0x00f7, 0x800b, 0x00f8, 0x0001, // 000c
        0x0100, 0x8041, 0x0234, 0x001d, 0x0250, 0x0001, 0x02ae, 0x8161, // 0010
        0x02b0, 0x0003, 0x02b9, 0x8175, 0x02bb, 0x0003, 0x02c2, 0x001b, // 0014
        0x02d0, 0x8177, 0x02d2, 0x001b, 0x02e0, 0x0003, 0x02e5, 0x001b, // 0018
        0x02ee, 0x8177, 0x02ef, 0x001d, 0x0300, 0x0005, 0x034f, 0x001d, // 001c
        0x0360, 0x8179, 0x0363, 0x001d, 0x0374, 0x817c, 0x037f, 0x001d, // 0020
        0x0384, 0x8187, 0x0391, 0x0000, 0x03a2, 0x8161, 0x03a3, 0x0000, // 0024
        0x03ac, 0x0001, 0x03cf, 0x8194, 0x03ef, 0x0001, 0x03f4, 0x001d, // 0028
        0x0400, 0x0000, 0x0430, 0x0001, 0x0460, 0x81b4, 0x04fa, 0x001d, // 002c
        0x0531, 0x0000, 0x0557, 0x8180, 0x055a, 0x0018, 0x0560, 0x8161, // 0030
        0x0561, 0x0001, 0x0588, 0x824e, 0x058b, 0x001d, 0x0591, 0x0005, // 0034
        0x05a2, 0x8161, 0x05a3, 0x0005, 0x05ba, 0x8251, 0x05c5, 0x001d, // 0038
        0x05d0, 0x0004, 0x05eb, 0x001d, 0x05f0, 0x825c, 0x05f5, 0x001d, // 003c
        0x060c, 0x8001, 0x060d, 0x001d, 0x061b, 0x8261, 0x0621, 0x0004, // 0040
        0x063b, 0x001d, 0x0640, 0x8177, 0x0641, 0x0004, 0x064b, 0x0005, // 0044
        0x0656, 0x001d, 0x0660, 0x0008, 0x066a, 0x8267, 0x0671, 0x0004, // 0048
        0x06d4, 0x826e, 0x06d6, 0x0005, 0x06dd, 0x81dc, 0x06df, 0x0005, // 004c
        0x06e5, 0x8270, 0x06f0, 0x0008, 0x06fa, 0x827b, 0x0700, 0x0018, // 0050
        0x070e, 0x8281, 0x0712, 0x0004, 0x072d, 0x817e, 0x0730, 0x0005, // 0054
        0x074b, 0x001d, 0x0780, 0x0004, 0x07a6, 0x0005, 0x07b1, 0x001d, // 0058
        0x0901, 0x8285, 0x0905, 0x0004, 0x093a, 0x8289, 0x0941, 0x0005, // 005c
        0x0949, 0x8290, 0x0958, 0x0004, 0x0962, 0x829f, 0x0966, 0x0008, // 0060
        0x0970, 0x8001, 0x0971, 0x001d, 0x0981, 0x82a3, 0x0985, 0x0004, // 0064
        0x098d, 0x82a7, 0x0993, 0x0004, 0x09a9, 0x8161, 0x09aa, 0x0004, // 0068
        0x09b1, 0x82ad, 0x09ce, 0x001d, 0x09d7, 0x82ca, 0x09e6, 0x0008, // 006c
        0x09f0, 0x82d9, 0x09f4, 0x000a, 0x09fa, 0x8027, 0x09fb, 0x001d, // 0070
        0x0a02, 0x8278, 0x0a05, 0x0004, 0x0a0b, 0x82dd, 0x0a13, 0x0004, // 0074
        0x0a29, 0x8161, 0x0a2a, 0x0004, 0x0a31, 0x82e5, 0x0a4e, 0x001d, // 0078
        0x0a59, 0x8302, 0x0a5f, 0x001d, 0x0a66, 0x0008, 0x0a70, 0x8300, // 007c
        0x0a75, 0x001d, 0x0a81, 0x8285, 0x0a85, 0x0004, 0x0a8c, 0x8308, // 0080
        0x0a93, 0x0004, 0x0aa9, 0x8161, 0x0aaa, 0x0004, 0x0ab1, 0x82a8, // 0084
        0x0ab5, 0x0004, 0x0aba, 0x8289, 0x0ac1, 0x0005, 0x0ac6, 0x830f, // 0088
        0x0ad1, 0x001d, 0x0ae0, 0x80fc, 0x0ae1, 0x001d, 0x0ae6, 0x0008, // 008c
        0x0af0, 0x001d, 0x0b01, 0x82a3, 0x0b05, 0x0004, 0x0b0d, 0x82a7, // 0090
        0x0b13, 0x0004, 0x0b29, 0x8161, 0x0b2a, 0x0004, 0x0b31, 0x831a, // 0094
        0x0b4e, 0x001d, 0x0b56, 0x8337, 0x0b66, 0x0008, 0x0b70, 0x8027, // 0098
        0x0b71, 0x001d, 0x0b82, 0x8286, 0x0b85, 0x0004, 0x0b8b, 0x8347, // 009c
        0x0bae, 0x0004, 0x0bb6, 0x836a, 0x0bce, 0x001d, 0x0bd7, 0x8287, // 00a0
        0x0bd8, 0x001d, 0x0be7, 0x0008, 0x0bf0, 0x803d, 0x0bf3, 0x001d, // 00a4
        0x0c01, 0x837a, 0x0c05, 0x0004, 0x0c0d, 0x830a, 0x0c12, 0x0004, // 00a8
        0x0c29, 0x8161, 0x0c2a, 0x0004, 0x0c34, 0x8161, 0x0c35, 0x0004, // 00ac
        0x0c3a, 0x8382, 0x0c4e, 0x001d, 0x0c55, 0x8179, 0x0c57, 0x001d, // 00b0
        0x0c60, 0x8341, 0x0c66, 0x0008, 0x0c70, 0x001d, 0x0c82, 0x82a4, // 00b4
        0x0c85, 0x0004, 0x0c8d, 0x830a, 0x0c92, 0x0004, 0x0ca9, 0x8161, // 00b8
        0x0caa, 0x0004, 0x0cb4, 0x8161, 0x0cb5, 0x0004, 0x0cba, 0x8396, // 00bc
        0x0cc0, 0x0006, 0x0cc5, 0x839c, 0x0cce, 0x001d, 0x0cd5, 0x828d, // 00c0
        0x0cd7, 0x001d, 0x0cde, 0x83a5, 0x0ce6, 0x0008, 0x0cf0, 0x001d, // 00c4
        0x0d02, 0x82a4, 0x0d05, 0x0004, 0x0d0d, 0x830a, 0x0d12, 0x0004, // 00c8
        0x0d29, 0x8161, 0x0d2a, 0x0004, 0x0d3a, 0x83ad, 0x0d4e, 0x001d, // 00cc
        0x0d57, 0x8287, 0x0d58, 0x001d, 0x0d60, 0x8341, 0x0d66, 0x0008, // 00d0
        0x0d70, 0x001d, 0x0d82, 0x82a4, 0x0d85, 0x0004, 0x0d97, 0x817e, // 00d4
        0x0d9a, 0x0004, 0x0db2, 0x8161, 0x0db3, 0x0004, 0x0dbc, 0x82ad, // 00d8
        0x0dc0, 0x0004, 0x0dc7, 0x83c1, 0x0dd8, 0x0006, 0x0de0, 0x001d, // 00dc
        0x0df2, 0x83d2, 0x0df5, 0x001d, 0x0e01, 0x0004, 0x0e31, 0x825b, // 00e0
        0x0e34, 0x0005, 0x0e3b, 0x83d5, 0x0e40, 0x0004, 0x0e46, 0x8177, // 00e4
        0x0e47, 0x0005, 0x0e4f, 0x8001, 0x0e50, 0x0008, 0x0e5a, 0x8001, // 00e8
        0x0e5c, 0x001d, 0x0e81, 0x83da, 0x0e8e, 0x001d, 0x0e94, 0x82b2, // 00ec
        0x0e99, 0x0004, 0x0ea0, 0x83e7, 0x0eb4, 0x0005, 0x0eba, 0x83fb, // 00f0
        0x0ec0, 0x0004, 0x0ec5, 0x8181, 0x0ec8, 0x0005, 0x0ece, 0x8161, // 00f4
        0x0ed0, 0x0008, 0x0eda, 0x8279, 0x0ede, 0x001d, 0x0f00, 0x8401, // 00f8
        0x0f04, 0x0018, 0x0f13, 0x001c, 0x0f18, 0x8179, 0x0f1a, 0x001c, // 00fc
        0x0f20, 0x0008, 0x0f2a, 0x000a, 0x0f34, 0x8405, 0x0f40, 0x0004, // 0100
        0x0f48, 0x8161, 0x0f49, 0x0004, 0x0f6b, 0x001d, 0x0f71, 0x0005, // 0104
        0x0f7f, 0x8287, 0x0f80, 0x0005, 0x0f85, 0x8411, 0x0f90, 0x0005, // 0108
        0x0f98, 0x8161, 0x0f99, 0x0005, 0x0fbd, 0x8161, 0x0fbe, 0x001c, // 010c
        0x0fc6, 0x8179, 0x0fc7, 0x001c, 0x0fcd, 0x841c, 0x0fd0, 0x001d, // 0110
        0x1000, 0x0004, 0x1022, 0x8161, 0x1023, 0x0004, 0x1028, 0x841f, // 0114
        0x103a, 0x001d, 0x1040, 0x0008, 0x104a, 0x0018, 0x1050, 0x0004, // 0118
        0x1056, 0x82bb, 0x105a, 0x001d, 0x10a0, 0x0000, 0x10c6, 0x001d, // 011c
        0x10d0, 0x0004, 0x10f7, 0x8431, 0x1100, 0x0004, 0x115a, 0x001d, // 0120
        0x115f, 0x0004, 0x11a3, 0x001d, 0x11a8, 0x0004, 0x11fa, 0x001d, // 0124
        0x1200, 0x0004, 0x1207, 0x8161, 0x1208, 0x0004, 0x1247, 0x843a, // 0128
        0x1250, 0x0004, 0x1257, 0x8443, 0x1260, 0x0004, 0x1287, 0x843a, // 012c
        0x1290, 0x0004, 0x12af, 0x843a, 0x12b8, 0x0004, 0x12bf, 0x843a, // 0130
        0x12c8, 0x0004, 0x12cf, 0x8161, 0x12d0, 0x0004, 0x12d7, 0x8161, // 0134
        0x12d8, 0x0004, 0x12ef, 0x8161, 0x12f0, 0x0004, 0x130f, 0x843a, // 0138
        0x1318, 0x0004, 0x131f, 0x8161, 0x1320, 0x0004, 0x1347, 0x8161, // 013c
        0x1348, 0x0004, 0x135b, 0x001d, 0x1361, 0x0018, 0x1369, 0x0008, // 0140
        0x1372, 0x000a, 0x137d, 0x001d, 0x13a0, 0x0004, 0x13f5, 0x001d, // 0144
        0x1401, 0x0004, 0x166d, 0x8001, 0x166f, 0x0004, 0x1677, 0x001d, // 0148
        0x1680, 0x8000, 0x1681, 0x0004, 0x169b, 0x844c, 0x16a0, 0x0004, // 014c
        0x16eb, 0x8451, 0x16f1, 0x001d, 0x1780, 0x0004, 0x17b4, 0x828d, // 0150
        0x17b7, 0x0005, 0x17be, 0x0006, 0x17c6, 0x82a3, 0x17c9, 0x0005, // 0154
        0x17d4, 0x0018, 0x17db, 0x8457, 0x17e0, 0x0008, 0x17ea, 0x001d, // 0158
        0x1800, 0x0018, 0x1806, 0x845c, 0x1810, 0x0008, 0x181a, 0x001d, // 015c
        0x1820, 0x0004, 0x1843, 0x8177, 0x1844, 0x0004, 0x1878, 0x001d, // 0160
        0x1880, 0x0004, 0x18a9, 0x8179, 0x18aa, 0x001d, 0x1e00, 0x8466, // 0164
        0x1e95, 0x0001, 0x1e9c, 0x84fb, 0x1efa, 0x001d, 0x1f00, 0x0001, // 0168
        0x1f08, 0x0000, 0x1f10, 0x0001, 0x1f16, 0x8161, 0x1f18, 0x0000, // 016c
        0x1f1e, 0x8161, 0x1f20, 0x0001, 0x1f28, 0x0000, 0x1f30, 0x0001, // 0170
        0x1f38, 0x0000, 0x1f40, 0x0001, 0x1f46, 0x8161, 0x1f48, 0x0000, // 0174
        0x1f4e, 0x8161, 0x1f50, 0x0001, 0x1f58, 0x8559, 0x1f60, 0x0001, // 0178
        0x1f68, 0x0000, 0x1f70, 0x0001, 0x1f7e, 0x8161, 0x1f80, 0x0001, // 017c
        0x1f88, 0x0002, 0x1f90, 0x0001, 0x1f98, 0x0002, 0x1fa0, 0x0001, // 0180
        0x1fa8, 0x0002, 0x1fb0, 0x0001, 0x1fb5, 0x8561, 0x1fe0, 0x0001, // 0184
        0x1fe8, 0x0000, 0x1fed, 0x858c, 0x2000, 0x000b, 0x200c, 0x8461, // 0188
        0x2010, 0x0013, 0x2016, 0x859f, 0x2020, 0x0018, 0x2028, 0x85a9, // 018c
        0x202a, 0x000f, 0x202f, 0x8000, 0x2030, 0x0018, 0x2039, 0x85ab, // 0190
        0x2048, 0x0018, 0x204e, 0x001d, 0x206a, 0x000f, 0x2070, 0x85ba, // 0194
        0x2074, 0x000a, 0x207a, 0x85be, 0x2080, 0x000a, 0x208a, 0x85be, // 0198
        0x208f, 0x001d, 0x20a0, 0x001a, 0x20b0, 0x001d, 0x20d0, 0x0005, // 019c
        0x20dd, 0x85c4, 0x20e4, 0x001d, 0x2100, 0x85cb, 0x2119, 0x0000, // 01a0
        0x211e, 0x001c, 0x2124, 0x85e4, 0x213b, 0x001d, 0x2153, 0x000a, // 01a4
        0x2160, 0x0009, 0x2184, 0x001d, 0x2190, 0x0019, 0x2195, 0x001c, // 01a8
        0x219a, 0x85fb, 0x21a7, 0x001c, 0x21ae, 0x800b, 0x21af, 0x001c, // 01ac
        0x21ce, 0x8608, 0x21d5, 0x001c, 0x21f4, 0x001d, 0x2200, 0x0019, // 01b0
        0x22f2, 0x001d, 0x2300, 0x001c, 0x2308, 0x860f, 0x230c, 0x001c, // 01b4
        0x2320, 0x8012, 0x2322, 0x001c, 0x2329, 0x8008, 0x232b, 0x001c, // 01b8
        0x237c, 0x8161, 0x237d, 0x001c, 0x239b, 0x001d, 0x2400, 0x001c, // 01bc
        0x2427, 0x001d, 0x2440, 0x001c, 0x244b, 0x001d, 0x2460, 0x000a, // 01c0
        0x249c, 0x001c, 0x24ea, 0x8033, 0x24eb, 0x001d, 0x2500, 0x001c, // 01c4
        0x2596, 0x001d, 0x25a0, 0x001c, 0x25b7, 0x800b, 0x25b8, 0x001c, // 01c8
        0x25c1, 0x800b, 0x25c2, 0x001c, 0x25f8, 0x001d, 0x2600, 0x001c, // 01cc
        0x2614, 0x001d, 0x2619, 0x001c, 0x266f, 0x85fc, 0x2672, 0x001d, // 01d0
        0x2701, 0x8613, 0x270c, 0x001c, 0x2728, 0x8161, 0x2729, 0x001c, // 01d4
        0x274c, 0x861e, 0x2758, 0x001c, 0x275f, 0x8161, 0x2761, 0x001c, // 01d8
        0x2768, 0x001d, 0x2776, 0x000a, 0x2794, 0x861b, 0x2798, 0x001c, // 01dc
        0x27b0, 0x8161, 0x27b1, 0x001c, 0x27bf, 0x001d, 0x2800, 0x001c, // 01e0
        0x2900, 0x001d, 0x2e80, 0x001c, 0x2e9a, 0x8161, 0x2e9b, 0x001c, // 01e4
        0x2ef4, 0x001d, 0x2f00, 0x001c, 0x2fd6, 0x001d, 0x2ff0, 0x001c, // 01e8
        0x2ffc, 0x862a, 0x3021, 0x0009, 0x302a, 0x0005, 0x3030, 0x800d, // 01ec
        0x3031, 0x0003, 0x3036, 0x864f, 0x3041, 0x0004, 0x3095, 0x865a, // 01f0
        0x30a1, 0x0004, 0x30fb, 0x8666, 0x30ff, 0x001d, 0x3105, 0x0004, // 01f4
        0x312d, 0x817e, 0x3131, 0x0004, 0x318f, 0x866a, 0x3196, 0x001c, // 01f8
        0x31a0, 0x0004, 0x31b8, 0x001d, 0x3200, 0x001c, 0x321d, 0x817e, // 01fc
        0x3220, 0x000a, 0x322a, 0x001c, 0x3244, 0x001d, 0x3260, 0x001c, // 0200
        0x327c, 0x841b, 0x3280, 0x000a, 0x328a, 0x001c, 0x32b1, 0x001d, // 0204
        0x32c0, 0x001c, 0x32cc, 0x817e, 0x32d0, 0x001c, 0x32ff, 0x8161, // 0208
        0x3300, 0x001c, 0x3377, 0x817e, 0x337b, 0x001c, 0x33de, 0x8161, // 020c
        0x33e0, 0x001c, 0x33ff, 0x8161, 0x3400, 0x0004, 0x4db6, 0x001d, // 0210
        0x4e00, 0x0004, 0x9fa6, 0x001d, 0xa000, 0x0004, 0xa48d, 0x817e, // 0214
        0xa490, 0x001c, 0xa4a2, 0x8161, 0xa4a4, 0x001c, 0xa4b4, 0x8161, // 0218
        0xa4b5, 0x001c, 0xa4c1, 0x8671, 0xa4c7, 0x001d, 0xac00, 0x0004, // 021c
        0xd7a4, 0x001d, 0xd800, 0x0010, 0xe000, 0x0011, 0xf900, 0x0004, // 0220
        0xfa2e, 0x001d, 0xfb00, 0x0001, 0xfb07, 0x001d, 0xfb13, 0x0001, // 0224
        0xfb18, 0x001d, 0xfb1d, 0x8283, 0xfb1f, 0x0004, 0xfb29, 0x800b, // 0228
        0xfb2a, 0x0004, 0xfb37, 0x8161, 0xfb38, 0x0004, 0xfb3d, 0x8677, // 022c
        0xfb46, 0x0004, 0xfbb2, 0x001d, 0xfbd3, 0x0004, 0xfd3e, 0x8008, // 0230
        0xfd40, 0x001d, 0xfd50, 0x0004, 0xfd90, 0x8161, 0xfd92, 0x0004, // 0234
        0xfdc8, 0x001d, 0xfdf0, 0x0004, 0xfdfc, 0x001d, 0xfe20, 0x81d7, // 0238
        0xfe24, 0x001d, 0xfe30, 0x8680, 0xfe76, 0x0004, 0xfefd, 0x86c6, // 023c
        0xff10, 0x0008, 0xff1a, 0x8010, 0xff21, 0x0000, 0xff3b, 0x8017, // 0240
        0xff41, 0x0001, 0xff5b, 0x86d9, 0xff66, 0x0004, 0xff70, 0x8177, // 0244
        0xff71, 0x0004, 0xff9e, 0x8177, 0xffa0, 0x0004, 0xffbf, 0x817e, // 0248
        0xffc2, 0x0004, 0xffc8, 0x8161, 0xffca, 0x0004, 0xffd0, 0x8161, // 024c
        0xffd2, 0x0004, 0xffd8, 0x86e4, 0xffef, 0x001d, 0xfff9, 0x86fb, // 0250
        0xffff, 0x0000
    };
    unsigned char UC_Runs[] = {
        0x0b, 0x18, 0x18, 0x18, 0x1a, 0x18, 0x18, 0x18, 0x14, 0x15, 0x18, 0x19, 0x18, 0x13, 0x18, 0x18, // 0000
        0x18, 0x18, 0x19, 0x19, 0x19, 0x18, 0x18, 0x14, 0x18, 0x15, 0x1b, 0x12, 0x1b, 0x14, 0x19, 0x15, // 0010
        0x19, 0x0b, 0x18, 0x1a, 0x1a, 0x1a, 0x1a, 0x1c, 0x1c, 0x1b, 0x1c, 0x01, 0x16, 0x19, 0x13, 0x1c, // 0020
        0x1b, 0x1c, 0x19, 0x0a, 0x0a, 0x1b, 0x01, 0x1c, 0x18, 0x1b, 0x0a, 0x01, 0x17, 0x0a, 0x0a, 0x0a, // 0030
        0x18, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, // 0040
        0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, // 0050
        0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, // 0060
        0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, // 0070
        0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, // 0080
        0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, // 0090
        0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, // 00a0
        0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, // 00b0
        0x01, 0x01, 0x00, 0x00, 0x01, 0x00, 0x01, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x01, 0x01, 0x00, // 00c0
        0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x01, 0x01, 0x01, 0x00, 0x00, 0x01, // 00d0
        0x00, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x00, 0x01, 0x00, 0x01, 0x01, 0x00, 0x01, 0x00, // 00e0
        0x00, 0x01, 0x00, 0x00, 0x00, 0x01, 0x00, 0x01, 0x00, 0x00, 0x01, 0x01, 0x04, 0x00, 0x01, 0x01, // 00f0
        0x01, 0x04, 0x04, 0x04, 0x04, 0x00, 0x02, 0x01, 0x00, 0x02, 0x01, 0x00, 0x02, 0x01, 0x00, 0x01, // 0100
        0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x01, 0x00, // 0110
        0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, // 0120
        0x01, 0x01, 0x00, 0x02, 0x01, 0x00, 0x01, 0x00, 0x00, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, // 0130
        0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, // 0140
        0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, // 0150
        0x01, 0x1d, 0x1d, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, // 0160
        0x01, 0x00, 0x01, 0x00, 0x01, 0x1b, 0x1b, 0x03, 0x03, 0x05, 0x05, 0x05, 0x1b, 0x1b, 0x1d, 0x1d, // 0170
        0x1d, 0x1d, 0x03, 0x1d, 0x1d, 0x1d, 0x18, 0x1b, 0x1b, 0x00, 0x18, 0x00, 0x00, 0x00, 0x1d, 0x00, // 0180
        0x1d, 0x00, 0x00, 0x01, 0x1d, 0x01, 0x01, 0x00, 0x00, 0x00, 0x01, 0x01, 0x01, 0x1d, 0x1d, 0x00, // 0190
        0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, // 01a0
        0x01, 0x00, 0x01, 0x00, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, // 01b0
        0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, // 01c0
        0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x1c, 0x05, 0x05, 0x05, 0x05, 0x1d, 0x07, 0x07, 0x1d, 0x1d, // 01d0
        0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, // 01e0
        0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, // 01f0
        0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, // 0200
        0x00, 0x01, 0x00, 0x01, 0x00, 0x00, 0x01, 0x00, 0x01, 0x1d, 0x1d, 0x00, 0x01, 0x1d, 0x1d, 0x00, // 0210
        0x01, 0x1d, 0x1d, 0x1d, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, // 0220
        0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, // 0230
        0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x1d, 0x1d, 0x00, 0x01, 0x1d, 0x18, // 0240
        0x13, 0x1d, 0x05, 0x05, 0x05, 0x18, 0x05, 0x18, 0x05, 0x05, 0x18, 0x05, 0x04, 0x04, 0x04, 0x18, // 0250
        0x18, 0x18, 0x1d, 0x1d, 0x1d, 0x18, 0x1d, 0x18, 0x18, 0x18, 0x18, 0x1d, 0x1d, 0x05, 0x18, 0x04, // 0260
        0x03, 0x03, 0x05, 0x05, 0x1c, 0x05, 0x05, 0x05, 0x05, 0x1d, 0x1d, 0x04, 0x04, 0x04, 0x1c, 0x1c, // 0270
        0x1d, 0x1d, 0x0f, 0x04, 0x05, 0x05, 0x05, 0x06, 0x1d, 0x1d, 0x1d, 0x05, 0x04, 0x06, 0x06, 0x06, // 0280
        0x06, 0x06, 0x06, 0x06, 0x05, 0x1d, 0x1d, 0x04, 0x05, 0x05, 0x05, 0x05, 0x1d, 0x1d, 0x1d, 0x05, // 0290
        0x05, 0x18, 0x18, 0x05, 0x06, 0x06, 0x1d, 0x1d, 0x1d, 0x04, 0x04, 0x1d, 0x1d, 0x1d, 0x04, 0x1d, // 02a0
        0x1d, 0x1d, 0x04, 0x04, 0x04, 0x04, 0x1d, 0x1d, 0x05, 0x1d, 0x06, 0x06, 0x06, 0x05, 0x05, 0x05, // 02b0
        0x05, 0x1d, 0x1d, 0x06, 0x06, 0x1d, 0x1d, 0x06, 0x06, 0x05, 0x06, 0x1d, 0x1d, 0x1d, 0x1d, 0x04, // 02c0
        0x04, 0x1d, 0x04, 0x04, 0x04, 0x05, 0x05, 0x1d, 0x1d, 0x04, 0x04, 0x1a, 0x1a, 0x1d, 0x1d, 0x1d, // 02d0
        0x1d, 0x04, 0x04, 0x1d, 0x1d, 0x1d, 0x04, 0x04, 0x1d, 0x04, 0x04, 0x1d, 0x04, 0x04, 0x1d, 0x1d, // 02e0
        0x05, 0x1d, 0x06, 0x06, 0x06, 0x05, 0x05, 0x1d, 0x1d, 0x1d, 0x1d, 0x05, 0x05, 0x1d, 0x1d, 0x05, // 02f0
        0x05, 0x05, 0x04, 0x04, 0x04, 0x04, 0x1d, 0x04, 0x1d, 0x04, 0x1d, 0x04, 0x04, 0x04, 0x1d, 0x1d, // 0300
        0x05, 0x05, 0x06, 0x1d, 0x06, 0x06, 0x05, 0x1d, 0x1d, 0x04, 0x1d, 0x04, 0x04, 0x1d, 0x1d, 0x04, // 0310
        0x04, 0x04, 0x04, 0x1d, 0x1d, 0x05, 0x04, 0x06, 0x05, 0x06, 0x05, 0x05, 0x05, 0x1d, 0x1d, 0x1d, // 0320
        0x06, 0x06, 0x1d, 0x1d, 0x06, 0x06, 0x05, 0x05, 0x06, 0x1d, 0x1d, 0x1d, 0x1d, 0x04, 0x04, 0x1d, // 0330
        0x04, 0x04, 0x04, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x04, 0x04, 0x04, 0x1d, 0x04, 0x04, // 0340
        0x04, 0x04, 0x1d, 0x1d, 0x1d, 0x04, 0x04, 0x1d, 0x04, 0x1d, 0x04, 0x04, 0x1d, 0x1d, 0x1d, 0x04, // 0350
        0x04, 0x1d, 0x1d, 0x1d, 0x04, 0x04, 0x04, 0x1d, 0x1d, 0x1d, 0x1d, 0x04, 0x04, 0x04, 0x1d, 0x1d, // 0360
        0x1d, 0x1d, 0x06, 0x06, 0x05, 0x06, 0x06, 0x1d, 0x1d, 0x1d, 0x06, 0x06, 0x06, 0x1d, 0x06, 0x06, // 0370
        0x06, 0x05, 0x1d, 0x1d, 0x1d, 0x1d, 0x05, 0x05, 0x05, 0x06, 0x06, 0x06, 0x06, 0x1d, 0x05, 0x05, // 0380
        0x05, 0x1d, 0x05, 0x05, 0x05, 0x05, 0x1d, 0x1d, 0x1d, 0x1d, 0x06, 0x05, 0x1d, 0x05, 0x06, 0x06, // 0390
        0x1d, 0x06, 0x06, 0x05, 0x05, 0x04, 0x1d, 0x04, 0x04, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, // 03a0
        0x1d, 0x06, 0x06, 0x06, 0x05, 0x05, 0x05, 0x1d, 0x1d, 0x06, 0x06, 0x06, 0x1d, 0x06, 0x06, 0x06, // 03b0
        0x05, 0x1d, 0x1d, 0x1d, 0x05, 0x1d, 0x1d, 0x1d, 0x1d, 0x06, 0x06, 0x06, 0x05, 0x05, 0x05, 0x1d, // 03c0
        0x05, 0x1d, 0x06, 0x06, 0x18, 0x1d, 0x1d, 0x1d, 0x1d, 0x1a, 0x04, 0x04, 0x1d, 0x04, 0x1d, 0x1d, // 03d0
        0x04, 0x04, 0x1d, 0x04, 0x1d, 0x1d, 0x04, 0x1d, 0x04, 0x04, 0x04, 0x1d, 0x04, 0x1d, 0x04, 0x1d, // 03e0
        0x1d, 0x04, 0x04, 0x1d, 0x04, 0x04, 0x04, 0x04, 0x05, 0x04, 0x04, 0x1d, 0x05, 0x05, 0x04, 0x1d, // 03f0
        0x1d, 0x04, 0x1c, 0x1c, 0x1c, 0x1c, 0x05, 0x1c, 0x05, 0x1c, 0x05, 0x14, 0x15, 0x14, 0x15, 0x06, // 0400
        0x06, 0x18, 0x05, 0x05, 0x04, 0x04, 0x04, 0x04, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1c, 0x1d, // 0410
        0x04, 0x04, 0x1d, 0x06, 0x05, 0x05, 0x05, 0x05, 0x06, 0x05, 0x1d, 0x1d, 0x1d, 0x05, 0x05, 0x06, // 0420
        0x05, 0x1d, 0x1d, 0x1d, 0x1d, 0x18, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x04, 0x1d, 0x04, 0x04, 0x04, // 0430
        0x04, 0x1d, 0x1d, 0x1d, 0x04, 0x1d, 0x04, 0x04, 0x04, 0x04, 0x1d, 0x1d, 0x14, 0x15, 0x1d, 0x1d, // 0440
        0x1d, 0x18, 0x18, 0x18, 0x0a, 0x0a, 0x0a, 0x1a, 0x18, 0x1d, 0x1d, 0x1d, 0x13, 0x18, 0x18, 0x18, // 0450
        0x18, 0x0f, 0x0f, 0x0f, 0x0f, 0x1d, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, // 0460
        0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, // 0470
        0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, // 0480
        0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, // 0490
        0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, // 04a0
        0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, // 04b0
        0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, // 04c0
        0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, // 04d0
        0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, // 04e0
        0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x1d, 0x1d, 0x1d, 0x1d, 0x00, // 04f0
        0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, // 0500
        0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, // 0510
        0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, // 0520
        0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, // 0530
        0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, // 0540
        0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x1d, 0x00, 0x1d, 0x00, 0x1d, 0x00, 0x1d, // 0550
        0x00, 0x1d, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x02, 0x1b, 0x01, 0x1b, 0x1b, 0x1b, 0x01, 0x01, // 0560
        0x01, 0x1d, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x02, 0x1b, 0x1b, 0x1b, 0x01, 0x01, 0x01, 0x01, // 0570
        0x1d, 0x1d, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x1d, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1d, // 0580
        0x1d, 0x01, 0x01, 0x01, 0x1d, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x02, 0x1b, 0x1b, 0x1d, 0x18, // 0590
        0x18, 0x16, 0x17, 0x14, 0x16, 0x16, 0x17, 0x14, 0x16, 0x0c, 0x0d, 0x16, 0x17, 0x18, 0x18, 0x18, // 05a0
        0x18, 0x12, 0x12, 0x18, 0x18, 0x18, 0x19, 0x14, 0x15, 0x1d, 0x0a, 0x1d, 0x1d, 0x1d, 0x19, 0x19, // 05b0
        0x19, 0x14, 0x15, 0x01, 0x07, 0x07, 0x07, 0x07, 0x05, 0x07, 0x07, 0x1c, 0x1c, 0x00, 0x1c, 0x1c, // 05c0
        0x1c, 0x1c, 0x00, 0x1c, 0x1c, 0x01, 0x00, 0x00, 0x00, 0x01, 0x01, 0x00, 0x00, 0x00, 0x01, 0x1c, // 05d0
        0x00, 0x1c, 0x1c, 0x1c, 0x00, 0x1c, 0x00, 0x1c, 0x00, 0x1c, 0x00, 0x00, 0x00, 0x00, 0x1c, 0x01, // 05e0
        0x00, 0x00, 0x1c, 0x00, 0x01, 0x04, 0x04, 0x04, 0x04, 0x01, 0x1c, 0x19, 0x19, 0x1c, 0x1c, 0x1c, // 05f0
        0x1c, 0x19, 0x1c, 0x1c, 0x19, 0x1c, 0x1c, 0x19, 0x19, 0x19, 0x1c, 0x1c, 0x19, 0x1c, 0x19, 0x19, // 0600
        0x19, 0x19, 0x19, 0x1c, 0x1c, 0x1c, 0x1c, 0x1d, 0x1c, 0x1c, 0x1c, 0x1c, 0x1d, 0x1d, 0x1d, 0x1c, // 0610
        0x1d, 0x1c, 0x1c, 0x1c, 0x1c, 0x1d, 0x1d, 0x1d, 0x1c, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x0b, 0x18, // 0620
        0x18, 0x18, 0x1c, 0x03, 0x04, 0x09, 0x14, 0x15, 0x14, 0x15, 0x14, 0x15, 0x14, 0x15, 0x14, 0x15, // 0630
        0x1c, 0x1c, 0x14, 0x15, 0x14, 0x15, 0x14, 0x15, 0x14, 0x15, 0x13, 0x14, 0x15, 0x15, 0x1c, 0x1c, // 0640
        0x1c, 0x09, 0x09, 0x09, 0x1d, 0x1d, 0x1d, 0x1c, 0x1c, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x05, 0x05, // 0650
        0x1b, 0x1b, 0x03, 0x03, 0x1d, 0x1d, 0x12, 0x03, 0x03, 0x03, 0x1d, 0x1c, 0x1c, 0x0a, 0x0a, 0x0a, // 0660
        0x0a, 0x1d, 0x1c, 0x1c, 0x1c, 0x1d, 0x1c, 0x1d, 0x04, 0x1d, 0x04, 0x04, 0x1d, 0x04, 0x04, 0x1d, // 0670
        0x18, 0x13, 0x13, 0x12, 0x12, 0x14, 0x15, 0x14, 0x15, 0x14, 0x15, 0x14, 0x15, 0x14, 0x15, 0x14, // 0680
        0x15, 0x14, 0x15, 0x14, 0x15, 0x1d, 0x1d, 0x1d, 0x1d, 0x18, 0x18, 0x18, 0x18, 0x12, 0x12, 0x12, // 0690
        0x18, 0x18, 0x18, 0x1d, 0x18, 0x18, 0x18, 0x18, 0x13, 0x14, 0x15, 0x14, 0x15, 0x14, 0x15, 0x18, // 06a0
        0x18, 0x18, 0x19, 0x13, 0x19, 0x19, 0x19, 0x1d, 0x18, 0x1a, 0x18, 0x18, 0x1d, 0x1d, 0x1d, 0x1d, // 06b0
        0x04, 0x04, 0x04, 0x1d, 0x04, 0x1d, 0x1d, 0x1d, 0x0f, 0x1d, 0x18, 0x18, 0x18, 0x1a, 0x18, 0x18, // 06c0
        0x18, 0x14, 0x15, 0x18, 0x19, 0x18, 0x13, 0x18, 0x18, 0x14, 0x19, 0x15, 0x19, 0x1d, 0x1d, 0x18, // 06d0
        0x14, 0x15, 0x18, 0x12, 0x1d, 0x1d, 0x04, 0x04, 0x04, 0x1d, 0x1d, 0x1d, 0x1a, 0x1a, 0x19, 0x1b, // 06e0
        0x1c, 0x1a, 0x1a, 0x1d, 0x1c, 0x19, 0x19, 0x19, 0x19, 0x1c, 0x1c, 0x0f, 0x0f, 0x0f, 0x1c, 0x1c, // 06f0
        0x1d, 0x1d
    };
    U32 paramCodePoint = ((U32*)pParams)[0];
    // Do a binary search on the UC_Index array
    U32 curOfs = UC_INDEX_LEN / 2;
    U32 upper = UC_INDEX_LEN;
    U32 lower = 0;
    U32 indexCodePoint;
    if (paramCodePoint == 0xffff) {
        // Special case for 0xffff, as this will not be handled correctly by the code below
        *(U32*)pReturnValue = 29;
        return NULL;
    }
    for(;;) {
        indexCodePoint = UC_Index[curOfs << 1];
        if (paramCodePoint >= indexCodePoint && paramCodePoint < UC_Index[(curOfs+1) << 1]) {
            // Found the correct entry...
            U32 value = UC_Index[(curOfs << 1) + 1];
            if (value & 0x8000) {
                // This is a run, not a direct look-up
                value &= 0x7fff;
                value += paramCodePoint - indexCodePoint;
                value = UC_Runs[value];
            }
            *(U32*)pReturnValue = value;
            return NULL;
        }
        if (paramCodePoint < indexCodePoint) {
            upper = curOfs;
        } else {
            lower = curOfs;
        }
        curOfs = lower + ((upper - lower) >> 1);
    }
}

// Return -1 if not found
function_space_specifier static I32 SearchCaseArray(unsigned short *pCaseArray, unsigned short find) {
    U32 lower = 0;
    unsigned short UC_CaseUpper[] = {
        0x0041, 0x0042, 0x0043, 0x0044, 0x0045, 0x0046, 0x0047, 0x0048, // 0000
        0x0049, 0x004a, 0x004b, 0x004c, 0x004d, 0x004e, 0x004f, 0x0050, // 0008
        0x0051, 0x0052, 0x0053, 0x0054, 0x0055, 0x0056, 0x0057, 0x0058, // 0010
        0x0059, 0x005a, 0x00c0, 0x00c1, 0x00c2, 0x00c3, 0x00c4, 0x00c5, // 0018
        0x00c6, 0x00c7, 0x00c8, 0x00c9, 0x00ca, 0x00cb, 0x00cc, 0x00cd, // 0020
        0x00ce, 0x00cf, 0x00d0, 0x00d1, 0x00d2, 0x00d3, 0x00d4, 0x00d5, // 0028
        0x00d6, 0x00d8, 0x00d9, 0x00da, 0x00db, 0x00dc, 0x00dd, 0x00de, // 0030
        0x0100, 0x0102, 0x0104, 0x0106, 0x0108, 0x010a, 0x010c, 0x010e, // 0038
        0x0110, 0x0112, 0x0114, 0x0116, 0x0118, 0x011a, 0x011c, 0x011e, // 0040
        0x0120, 0x0122, 0x0124, 0x0126, 0x0128, 0x012a, 0x012c, 0x012e, // 0048
        0x0132, 0x0134, 0x0136, 0x0139, 0x013b, 0x013d, 0x013f, 0x0141, // 0050
        0x0143, 0x0145, 0x0147, 0x014a, 0x014c, 0x014e, 0x0150, 0x0152, // 0058
        0x0154, 0x0156, 0x0158, 0x015a, 0x015c, 0x015e, 0x0160, 0x0162, // 0060
        0x0164, 0x0166, 0x0168, 0x016a, 0x016c, 0x016e, 0x0170, 0x0172, // 0068
        0x0174, 0x0176, 0x0178, 0x0179, 0x017b, 0x017d, 0x0181, 0x0182, // 0070
        0x0184, 0x0186, 0x0187, 0x0189, 0x018a, 0x018b, 0x018e, 0x018f, // 0078
        0x0190, 0x0191, 0x0193, 0x0194, 0x0196, 0x0197, 0x0198, 0x019c, // 0080
        0x019d, 0x019f, 0x01a0, 0x01a2, 0x01a4, 0x01a7, 0x01a9, 0x01ac, // 0088
        0x01ae, 0x01af, 0x01b1, 0x01b2, 0x01b3, 0x01b5, 0x01b7, 0x01b8, // 0090
        0x01bc, 0x01c4, 0x01c7, 0x01ca, 0x01cd, 0x01cf, 0x01d1, 0x01d3, // 0098
        0x01d5, 0x01d7, 0x01d9, 0x01db, 0x01de, 0x01e0, 0x01e2, 0x01e4, // 00a0
        0x01e6, 0x01e8, 0x01ea, 0x01ec, 0x01ee, 0x01f1, 0x01f4, 0x01fa, // 00a8
        0x01fc, 0x01fe, 0x0200, 0x0202, 0x0204, 0x0206, 0x0208, 0x020a, // 00b0
        0x020c, 0x020e, 0x0210, 0x0212, 0x0214, 0x0216, 0x0386, 0x0388, // 00b8
        0x0389, 0x038a, 0x038c, 0x038e, 0x038f, 0x0391, 0x0392, 0x0393, // 00c0
        0x0394, 0x0395, 0x0396, 0x0397, 0x0398, 0x0399, 0x039a, 0x039b, // 00c8
        0x039c, 0x039d, 0x039e, 0x039f, 0x03a0, 0x03a1, 0x03a3, 0x03a4, // 00d0
        0x03a5, 0x03a6, 0x03a7, 0x03a8, 0x03a9, 0x03aa, 0x03ab, 0x03e2, // 00d8
        0x03e4, 0x03e6, 0x03e8, 0x03ea, 0x03ec, 0x03ee, 0x0401, 0x0402, // 00e0
        0x0403, 0x0404, 0x0405, 0x0406, 0x0407, 0x0408, 0x0409, 0x040a, // 00e8
        0x040b, 0x040c, 0x040e, 0x040f, 0x0410, 0x0411, 0x0412, 0x0413, // 00f0
        0x0414, 0x0415, 0x0416, 0x0417, 0x0418, 0x0419, 0x041a, 0x041b, // 00f8
        0x041c, 0x041d, 0x041e, 0x041f, 0x0420, 0x0421, 0x0422, 0x0423, // 0100
        0x0424, 0x0425, 0x0426, 0x0427, 0x0428, 0x0429, 0x042a, 0x042b, // 0108
        0x042c, 0x042d, 0x042e, 0x042f, 0x0460, 0x0462, 0x0464, 0x0466, // 0110
        0x0468, 0x046a, 0x046c, 0x046e, 0x0470, 0x0472, 0x0474, 0x0476, // 0118
        0x0478, 0x047a, 0x047c, 0x047e, 0x0480, 0x0490, 0x0492, 0x0494, // 0120
        0x0496, 0x0498, 0x049a, 0x049c, 0x049e, 0x04a0, 0x04a2, 0x04a4, // 0128
        0x04a6, 0x04a8, 0x04aa, 0x04ac, 0x04ae, 0x04b0, 0x04b2, 0x04b4, // 0130
        0x04b6, 0x04b8, 0x04ba, 0x04bc, 0x04be, 0x04c1, 0x04c3, 0x04c7, // 0138
        0x04cb, 0x04d0, 0x04d2, 0x04d4, 0x04d6, 0x04d8, 0x04da, 0x04dc, // 0140
        0x04de, 0x04e0, 0x04e2, 0x04e4, 0x04e6, 0x04e8, 0x04ea, 0x04ee, // 0148
        0x04f0, 0x04f2, 0x04f4, 0x04f8, 0x0531, 0x0532, 0x0533, 0x0534, // 0150
        0x0535, 0x0536, 0x0537, 0x0538, 0x0539, 0x053a, 0x053b, 0x053c, // 0158
        0x053d, 0x053e, 0x053f, 0x0540, 0x0541, 0x0542, 0x0543, 0x0544, // 0160
        0x0545, 0x0546, 0x0547, 0x0548, 0x0549, 0x054a, 0x054b, 0x054c, // 0168
        0x054d, 0x054e, 0x054f, 0x0550, 0x0551, 0x0552, 0x0553, 0x0554, // 0170
        0x0555, 0x0556, 0x10a0, 0x10a1, 0x10a2, 0x10a3, 0x10a4, 0x10a5, // 0178
        0x10a6, 0x10a7, 0x10a8, 0x10a9, 0x10aa, 0x10ab, 0x10ac, 0x10ad, // 0180
        0x10ae, 0x10af, 0x10b0, 0x10b1, 0x10b2, 0x10b3, 0x10b4, 0x10b5, // 0188
        0x10b6, 0x10b7, 0x10b8, 0x10b9, 0x10ba, 0x10bb, 0x10bc, 0x10bd, // 0190
        0x10be, 0x10bf, 0x10c0, 0x10c1, 0x10c2, 0x10c3, 0x10c4, 0x10c5, // 0198
        0x1e00, 0x1e02, 0x1e04, 0x1e06, 0x1e08, 0x1e0a, 0x1e0c, 0x1e0e, // 01a0
        0x1e10, 0x1e12, 0x1e14, 0x1e16, 0x1e18, 0x1e1a, 0x1e1c, 0x1e1e, // 01a8
        0x1e20, 0x1e22, 0x1e24, 0x1e26, 0x1e28, 0x1e2a, 0x1e2c, 0x1e2e, // 01b0
        0x1e30, 0x1e32, 0x1e34, 0x1e36, 0x1e38, 0x1e3a, 0x1e3c, 0x1e3e, // 01b8
        0x1e40, 0x1e42, 0x1e44, 0x1e46, 0x1e48, 0x1e4a, 0x1e4c, 0x1e4e, // 01c0
        0x1e50, 0x1e52, 0x1e54, 0x1e56, 0x1e58, 0x1e5a, 0x1e5c, 0x1e5e, // 01c8
        0x1e60, 0x1e62, 0x1e64, 0x1e66, 0x1e68, 0x1e6a, 0x1e6c, 0x1e6e, // 01d0
        0x1e70, 0x1e72, 0x1e74, 0x1e76, 0x1e78, 0x1e7a, 0x1e7c, 0x1e7e, // 01d8
        0x1e80, 0x1e82, 0x1e84, 0x1e86, 0x1e88, 0x1e8a, 0x1e8c, 0x1e8e, // 01e0
        0x1e90, 0x1e92, 0x1e94, 0x1ea0, 0x1ea2, 0x1ea4, 0x1ea6, 0x1ea8, // 01e8
        0x1eaa, 0x1eac, 0x1eae, 0x1eb0, 0x1eb2, 0x1eb4, 0x1eb6, 0x1eb8, // 01f0
        0x1eba, 0x1ebc, 0x1ebe, 0x1ec0, 0x1ec2, 0x1ec4, 0x1ec6, 0x1ec8, // 01f8
        0x1eca, 0x1ecc, 0x1ece, 0x1ed0, 0x1ed2, 0x1ed4, 0x1ed6, 0x1ed8, // 0200
        0x1eda, 0x1edc, 0x1ede, 0x1ee0, 0x1ee2, 0x1ee4, 0x1ee6, 0x1ee8, // 0208
        0x1eea, 0x1eec, 0x1eee, 0x1ef0, 0x1ef2, 0x1ef4, 0x1ef6, 0x1ef8, // 0210
        0x1f08, 0x1f09, 0x1f0a, 0x1f0b, 0x1f0c, 0x1f0d, 0x1f0e, 0x1f0f, // 0218
        0x1f18, 0x1f19, 0x1f1a, 0x1f1b, 0x1f1c, 0x1f1d, 0x1f28, 0x1f29, // 0220
        0x1f2a, 0x1f2b, 0x1f2c, 0x1f2d, 0x1f2e, 0x1f2f, 0x1f38, 0x1f39, // 0228
        0x1f3a, 0x1f3b, 0x1f3c, 0x1f3d, 0x1f3e, 0x1f3f, 0x1f48, 0x1f49, // 0230
        0x1f4a, 0x1f4b, 0x1f4c, 0x1f4d, 0x1f59, 0x1f5b, 0x1f5d, 0x1f5f, // 0238
        0x1f68, 0x1f69, 0x1f6a, 0x1f6b, 0x1f6c, 0x1f6d, 0x1f6e, 0x1f6f, // 0240
        0x1fb8, 0x1fb9, 0x1fba, 0x1fbb, 0x1fc8, 0x1fc9, 0x1fca, 0x1fcb, // 0248
        0x1fd8, 0x1fd9, 0x1fda, 0x1fdb, 0x1fe8, 0x1fe9, 0x1fea, 0x1feb, // 0250
        0x1fec, 0x1ff8, 0x1ff9, 0x1ffa, 0x1ffb, 0x2160, 0x2161, 0x2162, // 0258
        0x2163, 0x2164, 0x2165, 0x2166, 0x2167, 0x2168, 0x2169, 0x216a, // 0260
        0x216b, 0x216c, 0x216d, 0x216e, 0x216f, 0x24b6, 0x24b7, 0x24b8, // 0268
        0x24b9, 0x24ba, 0x24bb, 0x24bc, 0x24bd, 0x24be, 0x24bf, 0x24c0, // 0270
        0x24c1, 0x24c2, 0x24c3, 0x24c4, 0x24c5, 0x24c6, 0x24c7, 0x24c8, // 0278
        0x24c9, 0x24ca, 0x24cb, 0x24cc, 0x24cd, 0x24ce, 0x24cf, 0xff21, // 0280
        0xff22, 0xff23, 0xff24, 0xff25, 0xff26, 0xff27, 0xff28, 0xff29, // 0288
        0xff2a, 0xff2b, 0xff2c, 0xff2d, 0xff2e, 0xff2f, 0xff30, 0xff31, // 0290
        0xff32, 0xff33, 0xff34, 0xff35, 0xff36, 0xff37, 0xff38, 0xff39, // 0298
        0xff3a, 0xffff
    };
    U32 upper = sizeof(UC_CaseUpper) / 2;
    U32 curOfs = sizeof(UC_CaseUpper) / 4;
    unsigned short val;

    if (find == 0xffff) {
        // Hande 0xffff specially, as the search below cannot handle it.
        return -1;
    }

    for(;;) {
        val = pCaseArray[curOfs];
        if (find >= val && find < pCaseArray[curOfs + 1]) {
            // Found the correct entry
            if (find == val) {
                return (I32)curOfs;
            }
            return -1;
        }
        if (find < val) {
            upper = curOfs;
        } else {
            lower = curOfs;
        }
        if (upper == 0) {
            return -1;
        }
        curOfs = lower + ((upper - lower) >> 1);
    }
}

function_space_specifier tAsyncCall* System_Char_ToLowerInvariant(PTR pThis_, PTR pParams, PTR pReturnValue) {
    U32 paramCodePoint = ((U32*)pParams)[0];
    I32 pos;
    unsigned short UC_CaseLower[] = {
        0x0061, 0x0062, 0x0063, 0x0064, 0x0065, 0x0066, 0x0067, 0x0068, // 0000
        0x0069, 0x006a, 0x006b, 0x006c, 0x006d, 0x006e, 0x006f, 0x0070, // 0008
        0x0071, 0x0072, 0x0073, 0x0074, 0x0075, 0x0076, 0x0077, 0x0078, // 0010
        0x0079, 0x007a, 0x00e0, 0x00e1, 0x00e2, 0x00e3, 0x00e4, 0x00e5, // 0018
        0x00e6, 0x00e7, 0x00e8, 0x00e9, 0x00ea, 0x00eb, 0x00ec, 0x00ed, // 0020
        0x00ee, 0x00ef, 0x00f0, 0x00f1, 0x00f2, 0x00f3, 0x00f4, 0x00f5, // 0028
        0x00f6, 0x00f8, 0x00f9, 0x00fa, 0x00fb, 0x00fc, 0x00fd, 0x00fe, // 0030
        0x0101, 0x0103, 0x0105, 0x0107, 0x0109, 0x010b, 0x010d, 0x010f, // 0038
        0x0111, 0x0113, 0x0115, 0x0117, 0x0119, 0x011b, 0x011d, 0x011f, // 0040
        0x0121, 0x0123, 0x0125, 0x0127, 0x0129, 0x012b, 0x012d, 0x012f, // 0048
        0x0133, 0x0135, 0x0137, 0x013a, 0x013c, 0x013e, 0x0140, 0x0142, // 0050
        0x0144, 0x0146, 0x0148, 0x014b, 0x014d, 0x014f, 0x0151, 0x0153, // 0058
        0x0155, 0x0157, 0x0159, 0x015b, 0x015d, 0x015f, 0x0161, 0x0163, // 0060
        0x0165, 0x0167, 0x0169, 0x016b, 0x016d, 0x016f, 0x0171, 0x0173, // 0068
        0x0175, 0x0177, 0x00ff, 0x017a, 0x017c, 0x017e, 0x0253, 0x0183, // 0070
        0x0185, 0x0254, 0x0188, 0x0256, 0x0257, 0x018c, 0x01dd, 0x0259, // 0078
        0x025b, 0x0192, 0x0260, 0x0263, 0x0269, 0x0268, 0x0199, 0x026f, // 0080
        0x0272, 0x0275, 0x01a1, 0x01a3, 0x01a5, 0x01a8, 0x0283, 0x01ad, // 0088
        0x0288, 0x01b0, 0x028a, 0x028b, 0x01b4, 0x01b6, 0x0292, 0x01b9, // 0090
        0x01bd, 0x01c6, 0x01c9, 0x01cc, 0x01ce, 0x01d0, 0x01d2, 0x01d4, // 0098
        0x01d6, 0x01d8, 0x01da, 0x01dc, 0x01df, 0x01e1, 0x01e3, 0x01e5, // 00a0
        0x01e7, 0x01e9, 0x01eb, 0x01ed, 0x01ef, 0x01f3, 0x01f5, 0x01fb, // 00a8
        0x01fd, 0x01ff, 0x0201, 0x0203, 0x0205, 0x0207, 0x0209, 0x020b, // 00b0
        0x020d, 0x020f, 0x0211, 0x0213, 0x0215, 0x0217, 0x03ac, 0x03ad, // 00b8
        0x03ae, 0x03af, 0x03cc, 0x03cd, 0x03ce, 0x03b1, 0x03b2, 0x03b3, // 00c0
        0x03b4, 0x03b5, 0x03b6, 0x03b7, 0x03b8, 0x03b9, 0x03ba, 0x03bb, // 00c8
        0x03bc, 0x03bd, 0x03be, 0x03bf, 0x03c0, 0x03c1, 0x03c3, 0x03c4, // 00d0
        0x03c5, 0x03c6, 0x03c7, 0x03c8, 0x03c9, 0x03ca, 0x03cb, 0x03e3, // 00d8
        0x03e5, 0x03e7, 0x03e9, 0x03eb, 0x03ed, 0x03ef, 0x0451, 0x0452, // 00e0
        0x0453, 0x0454, 0x0455, 0x0456, 0x0457, 0x0458, 0x0459, 0x045a, // 00e8
        0x045b, 0x045c, 0x045e, 0x045f, 0x0430, 0x0431, 0x0432, 0x0433, // 00f0
        0x0434, 0x0435, 0x0436, 0x0437, 0x0438, 0x0439, 0x043a, 0x043b, // 00f8
        0x043c, 0x043d, 0x043e, 0x043f, 0x0440, 0x0441, 0x0442, 0x0443, // 0100
        0x0444, 0x0445, 0x0446, 0x0447, 0x0448, 0x0449, 0x044a, 0x044b, // 0108
        0x044c, 0x044d, 0x044e, 0x044f, 0x0461, 0x0463, 0x0465, 0x0467, // 0110
        0x0469, 0x046b, 0x046d, 0x046f, 0x0471, 0x0473, 0x0475, 0x0477, // 0118
        0x0479, 0x047b, 0x047d, 0x047f, 0x0481, 0x0491, 0x0493, 0x0495, // 0120
        0x0497, 0x0499, 0x049b, 0x049d, 0x049f, 0x04a1, 0x04a3, 0x04a5, // 0128
        0x04a7, 0x04a9, 0x04ab, 0x04ad, 0x04af, 0x04b1, 0x04b3, 0x04b5, // 0130
        0x04b7, 0x04b9, 0x04bb, 0x04bd, 0x04bf, 0x04c2, 0x04c4, 0x04c8, // 0138
        0x04cc, 0x04d1, 0x04d3, 0x04d5, 0x04d7, 0x04d9, 0x04db, 0x04dd, // 0140
        0x04df, 0x04e1, 0x04e3, 0x04e5, 0x04e7, 0x04e9, 0x04eb, 0x04ef, // 0148
        0x04f1, 0x04f3, 0x04f5, 0x04f9, 0x0561, 0x0562, 0x0563, 0x0564, // 0150
        0x0565, 0x0566, 0x0567, 0x0568, 0x0569, 0x056a, 0x056b, 0x056c, // 0158
        0x056d, 0x056e, 0x056f, 0x0570, 0x0571, 0x0572, 0x0573, 0x0574, // 0160
        0x0575, 0x0576, 0x0577, 0x0578, 0x0579, 0x057a, 0x057b, 0x057c, // 0168
        0x057d, 0x057e, 0x057f, 0x0580, 0x0581, 0x0582, 0x0583, 0x0584, // 0170
        0x0585, 0x0586, 0x10d0, 0x10d1, 0x10d2, 0x10d3, 0x10d4, 0x10d5, // 0178
        0x10d6, 0x10d7, 0x10d8, 0x10d9, 0x10da, 0x10db, 0x10dc, 0x10dd, // 0180
        0x10de, 0x10df, 0x10e0, 0x10e1, 0x10e2, 0x10e3, 0x10e4, 0x10e5, // 0188
        0x10e6, 0x10e7, 0x10e8, 0x10e9, 0x10ea, 0x10eb, 0x10ec, 0x10ed, // 0190
        0x10ee, 0x10ef, 0x10f0, 0x10f1, 0x10f2, 0x10f3, 0x10f4, 0x10f5, // 0198
        0x1e01, 0x1e03, 0x1e05, 0x1e07, 0x1e09, 0x1e0b, 0x1e0d, 0x1e0f, // 01a0
        0x1e11, 0x1e13, 0x1e15, 0x1e17, 0x1e19, 0x1e1b, 0x1e1d, 0x1e1f, // 01a8
        0x1e21, 0x1e23, 0x1e25, 0x1e27, 0x1e29, 0x1e2b, 0x1e2d, 0x1e2f, // 01b0
        0x1e31, 0x1e33, 0x1e35, 0x1e37, 0x1e39, 0x1e3b, 0x1e3d, 0x1e3f, // 01b8
        0x1e41, 0x1e43, 0x1e45, 0x1e47, 0x1e49, 0x1e4b, 0x1e4d, 0x1e4f, // 01c0
        0x1e51, 0x1e53, 0x1e55, 0x1e57, 0x1e59, 0x1e5b, 0x1e5d, 0x1e5f, // 01c8
        0x1e61, 0x1e63, 0x1e65, 0x1e67, 0x1e69, 0x1e6b, 0x1e6d, 0x1e6f, // 01d0
        0x1e71, 0x1e73, 0x1e75, 0x1e77, 0x1e79, 0x1e7b, 0x1e7d, 0x1e7f, // 01d8
        0x1e81, 0x1e83, 0x1e85, 0x1e87, 0x1e89, 0x1e8b, 0x1e8d, 0x1e8f, // 01e0
        0x1e91, 0x1e93, 0x1e95, 0x1ea1, 0x1ea3, 0x1ea5, 0x1ea7, 0x1ea9, // 01e8
        0x1eab, 0x1ead, 0x1eaf, 0x1eb1, 0x1eb3, 0x1eb5, 0x1eb7, 0x1eb9, // 01f0
        0x1ebb, 0x1ebd, 0x1ebf, 0x1ec1, 0x1ec3, 0x1ec5, 0x1ec7, 0x1ec9, // 01f8
        0x1ecb, 0x1ecd, 0x1ecf, 0x1ed1, 0x1ed3, 0x1ed5, 0x1ed7, 0x1ed9, // 0200
        0x1edb, 0x1edd, 0x1edf, 0x1ee1, 0x1ee3, 0x1ee5, 0x1ee7, 0x1ee9, // 0208
        0x1eeb, 0x1eed, 0x1eef, 0x1ef1, 0x1ef3, 0x1ef5, 0x1ef7, 0x1ef9, // 0210
        0x1f00, 0x1f01, 0x1f02, 0x1f03, 0x1f04, 0x1f05, 0x1f06, 0x1f07, // 0218
        0x1f10, 0x1f11, 0x1f12, 0x1f13, 0x1f14, 0x1f15, 0x1f20, 0x1f21, // 0220
        0x1f22, 0x1f23, 0x1f24, 0x1f25, 0x1f26, 0x1f27, 0x1f30, 0x1f31, // 0228
        0x1f32, 0x1f33, 0x1f34, 0x1f35, 0x1f36, 0x1f37, 0x1f40, 0x1f41, // 0230
        0x1f42, 0x1f43, 0x1f44, 0x1f45, 0x1f51, 0x1f53, 0x1f55, 0x1f57, // 0238
        0x1f60, 0x1f61, 0x1f62, 0x1f63, 0x1f64, 0x1f65, 0x1f66, 0x1f67, // 0240
        0x1fb0, 0x1fb1, 0x1f70, 0x1f71, 0x1f72, 0x1f73, 0x1f74, 0x1f75, // 0248
        0x1fd0, 0x1fd1, 0x1f76, 0x1f77, 0x1fe0, 0x1fe1, 0x1f7a, 0x1f7b, // 0250
        0x1fe5, 0x1f78, 0x1f79, 0x1f7c, 0x1f7d, 0x2170, 0x2171, 0x2172, // 0258
        0x2173, 0x2174, 0x2175, 0x2176, 0x2177, 0x2178, 0x2179, 0x217a, // 0260
        0x217b, 0x217c, 0x217d, 0x217e, 0x217f, 0x24d0, 0x24d1, 0x24d2, // 0268
        0x24d3, 0x24d4, 0x24d5, 0x24d6, 0x24d7, 0x24d8, 0x24d9, 0x24da, // 0270
        0x24db, 0x24dc, 0x24dd, 0x24de, 0x24df, 0x24e0, 0x24e1, 0x24e2, // 0278
        0x24e3, 0x24e4, 0x24e5, 0x24e6, 0x24e7, 0x24e8, 0x24e9, 0xff41, // 0280
        0xff42, 0xff43, 0xff44, 0xff45, 0xff46, 0xff47, 0xff48, 0xff49, // 0288
        0xff4a, 0xff4b, 0xff4c, 0xff4d, 0xff4e, 0xff4f, 0xff50, 0xff51, // 0290
        0xff52, 0xff53, 0xff54, 0xff55, 0xff56, 0xff57, 0xff58, 0xff59, // 0298
        0xff5a, 0xffff
    };
    unsigned short UC_CaseUpper[] = {
        0x0041, 0x0042, 0x0043, 0x0044, 0x0045, 0x0046, 0x0047, 0x0048, // 0000
        0x0049, 0x004a, 0x004b, 0x004c, 0x004d, 0x004e, 0x004f, 0x0050, // 0008
        0x0051, 0x0052, 0x0053, 0x0054, 0x0055, 0x0056, 0x0057, 0x0058, // 0010
        0x0059, 0x005a, 0x00c0, 0x00c1, 0x00c2, 0x00c3, 0x00c4, 0x00c5, // 0018
        0x00c6, 0x00c7, 0x00c8, 0x00c9, 0x00ca, 0x00cb, 0x00cc, 0x00cd, // 0020
        0x00ce, 0x00cf, 0x00d0, 0x00d1, 0x00d2, 0x00d3, 0x00d4, 0x00d5, // 0028
        0x00d6, 0x00d8, 0x00d9, 0x00da, 0x00db, 0x00dc, 0x00dd, 0x00de, // 0030
        0x0100, 0x0102, 0x0104, 0x0106, 0x0108, 0x010a, 0x010c, 0x010e, // 0038
        0x0110, 0x0112, 0x0114, 0x0116, 0x0118, 0x011a, 0x011c, 0x011e, // 0040
        0x0120, 0x0122, 0x0124, 0x0126, 0x0128, 0x012a, 0x012c, 0x012e, // 0048
        0x0132, 0x0134, 0x0136, 0x0139, 0x013b, 0x013d, 0x013f, 0x0141, // 0050
        0x0143, 0x0145, 0x0147, 0x014a, 0x014c, 0x014e, 0x0150, 0x0152, // 0058
        0x0154, 0x0156, 0x0158, 0x015a, 0x015c, 0x015e, 0x0160, 0x0162, // 0060
        0x0164, 0x0166, 0x0168, 0x016a, 0x016c, 0x016e, 0x0170, 0x0172, // 0068
        0x0174, 0x0176, 0x0178, 0x0179, 0x017b, 0x017d, 0x0181, 0x0182, // 0070
        0x0184, 0x0186, 0x0187, 0x0189, 0x018a, 0x018b, 0x018e, 0x018f, // 0078
        0x0190, 0x0191, 0x0193, 0x0194, 0x0196, 0x0197, 0x0198, 0x019c, // 0080
        0x019d, 0x019f, 0x01a0, 0x01a2, 0x01a4, 0x01a7, 0x01a9, 0x01ac, // 0088
        0x01ae, 0x01af, 0x01b1, 0x01b2, 0x01b3, 0x01b5, 0x01b7, 0x01b8, // 0090
        0x01bc, 0x01c4, 0x01c7, 0x01ca, 0x01cd, 0x01cf, 0x01d1, 0x01d3, // 0098
        0x01d5, 0x01d7, 0x01d9, 0x01db, 0x01de, 0x01e0, 0x01e2, 0x01e4, // 00a0
        0x01e6, 0x01e8, 0x01ea, 0x01ec, 0x01ee, 0x01f1, 0x01f4, 0x01fa, // 00a8
        0x01fc, 0x01fe, 0x0200, 0x0202, 0x0204, 0x0206, 0x0208, 0x020a, // 00b0
        0x020c, 0x020e, 0x0210, 0x0212, 0x0214, 0x0216, 0x0386, 0x0388, // 00b8
        0x0389, 0x038a, 0x038c, 0x038e, 0x038f, 0x0391, 0x0392, 0x0393, // 00c0
        0x0394, 0x0395, 0x0396, 0x0397, 0x0398, 0x0399, 0x039a, 0x039b, // 00c8
        0x039c, 0x039d, 0x039e, 0x039f, 0x03a0, 0x03a1, 0x03a3, 0x03a4, // 00d0
        0x03a5, 0x03a6, 0x03a7, 0x03a8, 0x03a9, 0x03aa, 0x03ab, 0x03e2, // 00d8
        0x03e4, 0x03e6, 0x03e8, 0x03ea, 0x03ec, 0x03ee, 0x0401, 0x0402, // 00e0
        0x0403, 0x0404, 0x0405, 0x0406, 0x0407, 0x0408, 0x0409, 0x040a, // 00e8
        0x040b, 0x040c, 0x040e, 0x040f, 0x0410, 0x0411, 0x0412, 0x0413, // 00f0
        0x0414, 0x0415, 0x0416, 0x0417, 0x0418, 0x0419, 0x041a, 0x041b, // 00f8
        0x041c, 0x041d, 0x041e, 0x041f, 0x0420, 0x0421, 0x0422, 0x0423, // 0100
        0x0424, 0x0425, 0x0426, 0x0427, 0x0428, 0x0429, 0x042a, 0x042b, // 0108
        0x042c, 0x042d, 0x042e, 0x042f, 0x0460, 0x0462, 0x0464, 0x0466, // 0110
        0x0468, 0x046a, 0x046c, 0x046e, 0x0470, 0x0472, 0x0474, 0x0476, // 0118
        0x0478, 0x047a, 0x047c, 0x047e, 0x0480, 0x0490, 0x0492, 0x0494, // 0120
        0x0496, 0x0498, 0x049a, 0x049c, 0x049e, 0x04a0, 0x04a2, 0x04a4, // 0128
        0x04a6, 0x04a8, 0x04aa, 0x04ac, 0x04ae, 0x04b0, 0x04b2, 0x04b4, // 0130
        0x04b6, 0x04b8, 0x04ba, 0x04bc, 0x04be, 0x04c1, 0x04c3, 0x04c7, // 0138
        0x04cb, 0x04d0, 0x04d2, 0x04d4, 0x04d6, 0x04d8, 0x04da, 0x04dc, // 0140
        0x04de, 0x04e0, 0x04e2, 0x04e4, 0x04e6, 0x04e8, 0x04ea, 0x04ee, // 0148
        0x04f0, 0x04f2, 0x04f4, 0x04f8, 0x0531, 0x0532, 0x0533, 0x0534, // 0150
        0x0535, 0x0536, 0x0537, 0x0538, 0x0539, 0x053a, 0x053b, 0x053c, // 0158
        0x053d, 0x053e, 0x053f, 0x0540, 0x0541, 0x0542, 0x0543, 0x0544, // 0160
        0x0545, 0x0546, 0x0547, 0x0548, 0x0549, 0x054a, 0x054b, 0x054c, // 0168
        0x054d, 0x054e, 0x054f, 0x0550, 0x0551, 0x0552, 0x0553, 0x0554, // 0170
        0x0555, 0x0556, 0x10a0, 0x10a1, 0x10a2, 0x10a3, 0x10a4, 0x10a5, // 0178
        0x10a6, 0x10a7, 0x10a8, 0x10a9, 0x10aa, 0x10ab, 0x10ac, 0x10ad, // 0180
        0x10ae, 0x10af, 0x10b0, 0x10b1, 0x10b2, 0x10b3, 0x10b4, 0x10b5, // 0188
        0x10b6, 0x10b7, 0x10b8, 0x10b9, 0x10ba, 0x10bb, 0x10bc, 0x10bd, // 0190
        0x10be, 0x10bf, 0x10c0, 0x10c1, 0x10c2, 0x10c3, 0x10c4, 0x10c5, // 0198
        0x1e00, 0x1e02, 0x1e04, 0x1e06, 0x1e08, 0x1e0a, 0x1e0c, 0x1e0e, // 01a0
        0x1e10, 0x1e12, 0x1e14, 0x1e16, 0x1e18, 0x1e1a, 0x1e1c, 0x1e1e, // 01a8
        0x1e20, 0x1e22, 0x1e24, 0x1e26, 0x1e28, 0x1e2a, 0x1e2c, 0x1e2e, // 01b0
        0x1e30, 0x1e32, 0x1e34, 0x1e36, 0x1e38, 0x1e3a, 0x1e3c, 0x1e3e, // 01b8
        0x1e40, 0x1e42, 0x1e44, 0x1e46, 0x1e48, 0x1e4a, 0x1e4c, 0x1e4e, // 01c0
        0x1e50, 0x1e52, 0x1e54, 0x1e56, 0x1e58, 0x1e5a, 0x1e5c, 0x1e5e, // 01c8
        0x1e60, 0x1e62, 0x1e64, 0x1e66, 0x1e68, 0x1e6a, 0x1e6c, 0x1e6e, // 01d0
        0x1e70, 0x1e72, 0x1e74, 0x1e76, 0x1e78, 0x1e7a, 0x1e7c, 0x1e7e, // 01d8
        0x1e80, 0x1e82, 0x1e84, 0x1e86, 0x1e88, 0x1e8a, 0x1e8c, 0x1e8e, // 01e0
        0x1e90, 0x1e92, 0x1e94, 0x1ea0, 0x1ea2, 0x1ea4, 0x1ea6, 0x1ea8, // 01e8
        0x1eaa, 0x1eac, 0x1eae, 0x1eb0, 0x1eb2, 0x1eb4, 0x1eb6, 0x1eb8, // 01f0
        0x1eba, 0x1ebc, 0x1ebe, 0x1ec0, 0x1ec2, 0x1ec4, 0x1ec6, 0x1ec8, // 01f8
        0x1eca, 0x1ecc, 0x1ece, 0x1ed0, 0x1ed2, 0x1ed4, 0x1ed6, 0x1ed8, // 0200
        0x1eda, 0x1edc, 0x1ede, 0x1ee0, 0x1ee2, 0x1ee4, 0x1ee6, 0x1ee8, // 0208
        0x1eea, 0x1eec, 0x1eee, 0x1ef0, 0x1ef2, 0x1ef4, 0x1ef6, 0x1ef8, // 0210
        0x1f08, 0x1f09, 0x1f0a, 0x1f0b, 0x1f0c, 0x1f0d, 0x1f0e, 0x1f0f, // 0218
        0x1f18, 0x1f19, 0x1f1a, 0x1f1b, 0x1f1c, 0x1f1d, 0x1f28, 0x1f29, // 0220
        0x1f2a, 0x1f2b, 0x1f2c, 0x1f2d, 0x1f2e, 0x1f2f, 0x1f38, 0x1f39, // 0228
        0x1f3a, 0x1f3b, 0x1f3c, 0x1f3d, 0x1f3e, 0x1f3f, 0x1f48, 0x1f49, // 0230
        0x1f4a, 0x1f4b, 0x1f4c, 0x1f4d, 0x1f59, 0x1f5b, 0x1f5d, 0x1f5f, // 0238
        0x1f68, 0x1f69, 0x1f6a, 0x1f6b, 0x1f6c, 0x1f6d, 0x1f6e, 0x1f6f, // 0240
        0x1fb8, 0x1fb9, 0x1fba, 0x1fbb, 0x1fc8, 0x1fc9, 0x1fca, 0x1fcb, // 0248
        0x1fd8, 0x1fd9, 0x1fda, 0x1fdb, 0x1fe8, 0x1fe9, 0x1fea, 0x1feb, // 0250
        0x1fec, 0x1ff8, 0x1ff9, 0x1ffa, 0x1ffb, 0x2160, 0x2161, 0x2162, // 0258
        0x2163, 0x2164, 0x2165, 0x2166, 0x2167, 0x2168, 0x2169, 0x216a, // 0260
        0x216b, 0x216c, 0x216d, 0x216e, 0x216f, 0x24b6, 0x24b7, 0x24b8, // 0268
        0x24b9, 0x24ba, 0x24bb, 0x24bc, 0x24bd, 0x24be, 0x24bf, 0x24c0, // 0270
        0x24c1, 0x24c2, 0x24c3, 0x24c4, 0x24c5, 0x24c6, 0x24c7, 0x24c8, // 0278
        0x24c9, 0x24ca, 0x24cb, 0x24cc, 0x24cd, 0x24ce, 0x24cf, 0xff21, // 0280
        0xff22, 0xff23, 0xff24, 0xff25, 0xff26, 0xff27, 0xff28, 0xff29, // 0288
        0xff2a, 0xff2b, 0xff2c, 0xff2d, 0xff2e, 0xff2f, 0xff30, 0xff31, // 0290
        0xff32, 0xff33, 0xff34, 0xff35, 0xff36, 0xff37, 0xff38, 0xff39, // 0298
        0xff3a, 0xffff
    };

    pos = SearchCaseArray(UC_CaseUpper, (unsigned short)paramCodePoint);
    *(U32*)pReturnValue = (pos < 0)?paramCodePoint:UC_CaseLower[pos];

    return NULL;
}

function_space_specifier tAsyncCall* System_Char_ToUpperInvariant(PTR pThis_, PTR pParams, PTR pReturnValue) {
    U32 paramCodePoint = ((U32*)pParams)[0];
    I32 pos;
    unsigned short UC_CaseLower[] = {
        0x0061, 0x0062, 0x0063, 0x0064, 0x0065, 0x0066, 0x0067, 0x0068, // 0000
        0x0069, 0x006a, 0x006b, 0x006c, 0x006d, 0x006e, 0x006f, 0x0070, // 0008
        0x0071, 0x0072, 0x0073, 0x0074, 0x0075, 0x0076, 0x0077, 0x0078, // 0010
        0x0079, 0x007a, 0x00e0, 0x00e1, 0x00e2, 0x00e3, 0x00e4, 0x00e5, // 0018
        0x00e6, 0x00e7, 0x00e8, 0x00e9, 0x00ea, 0x00eb, 0x00ec, 0x00ed, // 0020
        0x00ee, 0x00ef, 0x00f0, 0x00f1, 0x00f2, 0x00f3, 0x00f4, 0x00f5, // 0028
        0x00f6, 0x00f8, 0x00f9, 0x00fa, 0x00fb, 0x00fc, 0x00fd, 0x00fe, // 0030
        0x0101, 0x0103, 0x0105, 0x0107, 0x0109, 0x010b, 0x010d, 0x010f, // 0038
        0x0111, 0x0113, 0x0115, 0x0117, 0x0119, 0x011b, 0x011d, 0x011f, // 0040
        0x0121, 0x0123, 0x0125, 0x0127, 0x0129, 0x012b, 0x012d, 0x012f, // 0048
        0x0133, 0x0135, 0x0137, 0x013a, 0x013c, 0x013e, 0x0140, 0x0142, // 0050
        0x0144, 0x0146, 0x0148, 0x014b, 0x014d, 0x014f, 0x0151, 0x0153, // 0058
        0x0155, 0x0157, 0x0159, 0x015b, 0x015d, 0x015f, 0x0161, 0x0163, // 0060
        0x0165, 0x0167, 0x0169, 0x016b, 0x016d, 0x016f, 0x0171, 0x0173, // 0068
        0x0175, 0x0177, 0x00ff, 0x017a, 0x017c, 0x017e, 0x0253, 0x0183, // 0070
        0x0185, 0x0254, 0x0188, 0x0256, 0x0257, 0x018c, 0x01dd, 0x0259, // 0078
        0x025b, 0x0192, 0x0260, 0x0263, 0x0269, 0x0268, 0x0199, 0x026f, // 0080
        0x0272, 0x0275, 0x01a1, 0x01a3, 0x01a5, 0x01a8, 0x0283, 0x01ad, // 0088
        0x0288, 0x01b0, 0x028a, 0x028b, 0x01b4, 0x01b6, 0x0292, 0x01b9, // 0090
        0x01bd, 0x01c6, 0x01c9, 0x01cc, 0x01ce, 0x01d0, 0x01d2, 0x01d4, // 0098
        0x01d6, 0x01d8, 0x01da, 0x01dc, 0x01df, 0x01e1, 0x01e3, 0x01e5, // 00a0
        0x01e7, 0x01e9, 0x01eb, 0x01ed, 0x01ef, 0x01f3, 0x01f5, 0x01fb, // 00a8
        0x01fd, 0x01ff, 0x0201, 0x0203, 0x0205, 0x0207, 0x0209, 0x020b, // 00b0
        0x020d, 0x020f, 0x0211, 0x0213, 0x0215, 0x0217, 0x03ac, 0x03ad, // 00b8
        0x03ae, 0x03af, 0x03cc, 0x03cd, 0x03ce, 0x03b1, 0x03b2, 0x03b3, // 00c0
        0x03b4, 0x03b5, 0x03b6, 0x03b7, 0x03b8, 0x03b9, 0x03ba, 0x03bb, // 00c8
        0x03bc, 0x03bd, 0x03be, 0x03bf, 0x03c0, 0x03c1, 0x03c3, 0x03c4, // 00d0
        0x03c5, 0x03c6, 0x03c7, 0x03c8, 0x03c9, 0x03ca, 0x03cb, 0x03e3, // 00d8
        0x03e5, 0x03e7, 0x03e9, 0x03eb, 0x03ed, 0x03ef, 0x0451, 0x0452, // 00e0
        0x0453, 0x0454, 0x0455, 0x0456, 0x0457, 0x0458, 0x0459, 0x045a, // 00e8
        0x045b, 0x045c, 0x045e, 0x045f, 0x0430, 0x0431, 0x0432, 0x0433, // 00f0
        0x0434, 0x0435, 0x0436, 0x0437, 0x0438, 0x0439, 0x043a, 0x043b, // 00f8
        0x043c, 0x043d, 0x043e, 0x043f, 0x0440, 0x0441, 0x0442, 0x0443, // 0100
        0x0444, 0x0445, 0x0446, 0x0447, 0x0448, 0x0449, 0x044a, 0x044b, // 0108
        0x044c, 0x044d, 0x044e, 0x044f, 0x0461, 0x0463, 0x0465, 0x0467, // 0110
        0x0469, 0x046b, 0x046d, 0x046f, 0x0471, 0x0473, 0x0475, 0x0477, // 0118
        0x0479, 0x047b, 0x047d, 0x047f, 0x0481, 0x0491, 0x0493, 0x0495, // 0120
        0x0497, 0x0499, 0x049b, 0x049d, 0x049f, 0x04a1, 0x04a3, 0x04a5, // 0128
        0x04a7, 0x04a9, 0x04ab, 0x04ad, 0x04af, 0x04b1, 0x04b3, 0x04b5, // 0130
        0x04b7, 0x04b9, 0x04bb, 0x04bd, 0x04bf, 0x04c2, 0x04c4, 0x04c8, // 0138
        0x04cc, 0x04d1, 0x04d3, 0x04d5, 0x04d7, 0x04d9, 0x04db, 0x04dd, // 0140
        0x04df, 0x04e1, 0x04e3, 0x04e5, 0x04e7, 0x04e9, 0x04eb, 0x04ef, // 0148
        0x04f1, 0x04f3, 0x04f5, 0x04f9, 0x0561, 0x0562, 0x0563, 0x0564, // 0150
        0x0565, 0x0566, 0x0567, 0x0568, 0x0569, 0x056a, 0x056b, 0x056c, // 0158
        0x056d, 0x056e, 0x056f, 0x0570, 0x0571, 0x0572, 0x0573, 0x0574, // 0160
        0x0575, 0x0576, 0x0577, 0x0578, 0x0579, 0x057a, 0x057b, 0x057c, // 0168
        0x057d, 0x057e, 0x057f, 0x0580, 0x0581, 0x0582, 0x0583, 0x0584, // 0170
        0x0585, 0x0586, 0x10d0, 0x10d1, 0x10d2, 0x10d3, 0x10d4, 0x10d5, // 0178
        0x10d6, 0x10d7, 0x10d8, 0x10d9, 0x10da, 0x10db, 0x10dc, 0x10dd, // 0180
        0x10de, 0x10df, 0x10e0, 0x10e1, 0x10e2, 0x10e3, 0x10e4, 0x10e5, // 0188
        0x10e6, 0x10e7, 0x10e8, 0x10e9, 0x10ea, 0x10eb, 0x10ec, 0x10ed, // 0190
        0x10ee, 0x10ef, 0x10f0, 0x10f1, 0x10f2, 0x10f3, 0x10f4, 0x10f5, // 0198
        0x1e01, 0x1e03, 0x1e05, 0x1e07, 0x1e09, 0x1e0b, 0x1e0d, 0x1e0f, // 01a0
        0x1e11, 0x1e13, 0x1e15, 0x1e17, 0x1e19, 0x1e1b, 0x1e1d, 0x1e1f, // 01a8
        0x1e21, 0x1e23, 0x1e25, 0x1e27, 0x1e29, 0x1e2b, 0x1e2d, 0x1e2f, // 01b0
        0x1e31, 0x1e33, 0x1e35, 0x1e37, 0x1e39, 0x1e3b, 0x1e3d, 0x1e3f, // 01b8
        0x1e41, 0x1e43, 0x1e45, 0x1e47, 0x1e49, 0x1e4b, 0x1e4d, 0x1e4f, // 01c0
        0x1e51, 0x1e53, 0x1e55, 0x1e57, 0x1e59, 0x1e5b, 0x1e5d, 0x1e5f, // 01c8
        0x1e61, 0x1e63, 0x1e65, 0x1e67, 0x1e69, 0x1e6b, 0x1e6d, 0x1e6f, // 01d0
        0x1e71, 0x1e73, 0x1e75, 0x1e77, 0x1e79, 0x1e7b, 0x1e7d, 0x1e7f, // 01d8
        0x1e81, 0x1e83, 0x1e85, 0x1e87, 0x1e89, 0x1e8b, 0x1e8d, 0x1e8f, // 01e0
        0x1e91, 0x1e93, 0x1e95, 0x1ea1, 0x1ea3, 0x1ea5, 0x1ea7, 0x1ea9, // 01e8
        0x1eab, 0x1ead, 0x1eaf, 0x1eb1, 0x1eb3, 0x1eb5, 0x1eb7, 0x1eb9, // 01f0
        0x1ebb, 0x1ebd, 0x1ebf, 0x1ec1, 0x1ec3, 0x1ec5, 0x1ec7, 0x1ec9, // 01f8
        0x1ecb, 0x1ecd, 0x1ecf, 0x1ed1, 0x1ed3, 0x1ed5, 0x1ed7, 0x1ed9, // 0200
        0x1edb, 0x1edd, 0x1edf, 0x1ee1, 0x1ee3, 0x1ee5, 0x1ee7, 0x1ee9, // 0208
        0x1eeb, 0x1eed, 0x1eef, 0x1ef1, 0x1ef3, 0x1ef5, 0x1ef7, 0x1ef9, // 0210
        0x1f00, 0x1f01, 0x1f02, 0x1f03, 0x1f04, 0x1f05, 0x1f06, 0x1f07, // 0218
        0x1f10, 0x1f11, 0x1f12, 0x1f13, 0x1f14, 0x1f15, 0x1f20, 0x1f21, // 0220
        0x1f22, 0x1f23, 0x1f24, 0x1f25, 0x1f26, 0x1f27, 0x1f30, 0x1f31, // 0228
        0x1f32, 0x1f33, 0x1f34, 0x1f35, 0x1f36, 0x1f37, 0x1f40, 0x1f41, // 0230
        0x1f42, 0x1f43, 0x1f44, 0x1f45, 0x1f51, 0x1f53, 0x1f55, 0x1f57, // 0238
        0x1f60, 0x1f61, 0x1f62, 0x1f63, 0x1f64, 0x1f65, 0x1f66, 0x1f67, // 0240
        0x1fb0, 0x1fb1, 0x1f70, 0x1f71, 0x1f72, 0x1f73, 0x1f74, 0x1f75, // 0248
        0x1fd0, 0x1fd1, 0x1f76, 0x1f77, 0x1fe0, 0x1fe1, 0x1f7a, 0x1f7b, // 0250
        0x1fe5, 0x1f78, 0x1f79, 0x1f7c, 0x1f7d, 0x2170, 0x2171, 0x2172, // 0258
        0x2173, 0x2174, 0x2175, 0x2176, 0x2177, 0x2178, 0x2179, 0x217a, // 0260
        0x217b, 0x217c, 0x217d, 0x217e, 0x217f, 0x24d0, 0x24d1, 0x24d2, // 0268
        0x24d3, 0x24d4, 0x24d5, 0x24d6, 0x24d7, 0x24d8, 0x24d9, 0x24da, // 0270
        0x24db, 0x24dc, 0x24dd, 0x24de, 0x24df, 0x24e0, 0x24e1, 0x24e2, // 0278
        0x24e3, 0x24e4, 0x24e5, 0x24e6, 0x24e7, 0x24e8, 0x24e9, 0xff41, // 0280
        0xff42, 0xff43, 0xff44, 0xff45, 0xff46, 0xff47, 0xff48, 0xff49, // 0288
        0xff4a, 0xff4b, 0xff4c, 0xff4d, 0xff4e, 0xff4f, 0xff50, 0xff51, // 0290
        0xff52, 0xff53, 0xff54, 0xff55, 0xff56, 0xff57, 0xff58, 0xff59, // 0298
        0xff5a, 0xffff
    };
    unsigned short UC_CaseUpper[] = {
        0x0041, 0x0042, 0x0043, 0x0044, 0x0045, 0x0046, 0x0047, 0x0048, // 0000
        0x0049, 0x004a, 0x004b, 0x004c, 0x004d, 0x004e, 0x004f, 0x0050, // 0008
        0x0051, 0x0052, 0x0053, 0x0054, 0x0055, 0x0056, 0x0057, 0x0058, // 0010
        0x0059, 0x005a, 0x00c0, 0x00c1, 0x00c2, 0x00c3, 0x00c4, 0x00c5, // 0018
        0x00c6, 0x00c7, 0x00c8, 0x00c9, 0x00ca, 0x00cb, 0x00cc, 0x00cd, // 0020
        0x00ce, 0x00cf, 0x00d0, 0x00d1, 0x00d2, 0x00d3, 0x00d4, 0x00d5, // 0028
        0x00d6, 0x00d8, 0x00d9, 0x00da, 0x00db, 0x00dc, 0x00dd, 0x00de, // 0030
        0x0100, 0x0102, 0x0104, 0x0106, 0x0108, 0x010a, 0x010c, 0x010e, // 0038
        0x0110, 0x0112, 0x0114, 0x0116, 0x0118, 0x011a, 0x011c, 0x011e, // 0040
        0x0120, 0x0122, 0x0124, 0x0126, 0x0128, 0x012a, 0x012c, 0x012e, // 0048
        0x0132, 0x0134, 0x0136, 0x0139, 0x013b, 0x013d, 0x013f, 0x0141, // 0050
        0x0143, 0x0145, 0x0147, 0x014a, 0x014c, 0x014e, 0x0150, 0x0152, // 0058
        0x0154, 0x0156, 0x0158, 0x015a, 0x015c, 0x015e, 0x0160, 0x0162, // 0060
        0x0164, 0x0166, 0x0168, 0x016a, 0x016c, 0x016e, 0x0170, 0x0172, // 0068
        0x0174, 0x0176, 0x0178, 0x0179, 0x017b, 0x017d, 0x0181, 0x0182, // 0070
        0x0184, 0x0186, 0x0187, 0x0189, 0x018a, 0x018b, 0x018e, 0x018f, // 0078
        0x0190, 0x0191, 0x0193, 0x0194, 0x0196, 0x0197, 0x0198, 0x019c, // 0080
        0x019d, 0x019f, 0x01a0, 0x01a2, 0x01a4, 0x01a7, 0x01a9, 0x01ac, // 0088
        0x01ae, 0x01af, 0x01b1, 0x01b2, 0x01b3, 0x01b5, 0x01b7, 0x01b8, // 0090
        0x01bc, 0x01c4, 0x01c7, 0x01ca, 0x01cd, 0x01cf, 0x01d1, 0x01d3, // 0098
        0x01d5, 0x01d7, 0x01d9, 0x01db, 0x01de, 0x01e0, 0x01e2, 0x01e4, // 00a0
        0x01e6, 0x01e8, 0x01ea, 0x01ec, 0x01ee, 0x01f1, 0x01f4, 0x01fa, // 00a8
        0x01fc, 0x01fe, 0x0200, 0x0202, 0x0204, 0x0206, 0x0208, 0x020a, // 00b0
        0x020c, 0x020e, 0x0210, 0x0212, 0x0214, 0x0216, 0x0386, 0x0388, // 00b8
        0x0389, 0x038a, 0x038c, 0x038e, 0x038f, 0x0391, 0x0392, 0x0393, // 00c0
        0x0394, 0x0395, 0x0396, 0x0397, 0x0398, 0x0399, 0x039a, 0x039b, // 00c8
        0x039c, 0x039d, 0x039e, 0x039f, 0x03a0, 0x03a1, 0x03a3, 0x03a4, // 00d0
        0x03a5, 0x03a6, 0x03a7, 0x03a8, 0x03a9, 0x03aa, 0x03ab, 0x03e2, // 00d8
        0x03e4, 0x03e6, 0x03e8, 0x03ea, 0x03ec, 0x03ee, 0x0401, 0x0402, // 00e0
        0x0403, 0x0404, 0x0405, 0x0406, 0x0407, 0x0408, 0x0409, 0x040a, // 00e8
        0x040b, 0x040c, 0x040e, 0x040f, 0x0410, 0x0411, 0x0412, 0x0413, // 00f0
        0x0414, 0x0415, 0x0416, 0x0417, 0x0418, 0x0419, 0x041a, 0x041b, // 00f8
        0x041c, 0x041d, 0x041e, 0x041f, 0x0420, 0x0421, 0x0422, 0x0423, // 0100
        0x0424, 0x0425, 0x0426, 0x0427, 0x0428, 0x0429, 0x042a, 0x042b, // 0108
        0x042c, 0x042d, 0x042e, 0x042f, 0x0460, 0x0462, 0x0464, 0x0466, // 0110
        0x0468, 0x046a, 0x046c, 0x046e, 0x0470, 0x0472, 0x0474, 0x0476, // 0118
        0x0478, 0x047a, 0x047c, 0x047e, 0x0480, 0x0490, 0x0492, 0x0494, // 0120
        0x0496, 0x0498, 0x049a, 0x049c, 0x049e, 0x04a0, 0x04a2, 0x04a4, // 0128
        0x04a6, 0x04a8, 0x04aa, 0x04ac, 0x04ae, 0x04b0, 0x04b2, 0x04b4, // 0130
        0x04b6, 0x04b8, 0x04ba, 0x04bc, 0x04be, 0x04c1, 0x04c3, 0x04c7, // 0138
        0x04cb, 0x04d0, 0x04d2, 0x04d4, 0x04d6, 0x04d8, 0x04da, 0x04dc, // 0140
        0x04de, 0x04e0, 0x04e2, 0x04e4, 0x04e6, 0x04e8, 0x04ea, 0x04ee, // 0148
        0x04f0, 0x04f2, 0x04f4, 0x04f8, 0x0531, 0x0532, 0x0533, 0x0534, // 0150
        0x0535, 0x0536, 0x0537, 0x0538, 0x0539, 0x053a, 0x053b, 0x053c, // 0158
        0x053d, 0x053e, 0x053f, 0x0540, 0x0541, 0x0542, 0x0543, 0x0544, // 0160
        0x0545, 0x0546, 0x0547, 0x0548, 0x0549, 0x054a, 0x054b, 0x054c, // 0168
        0x054d, 0x054e, 0x054f, 0x0550, 0x0551, 0x0552, 0x0553, 0x0554, // 0170
        0x0555, 0x0556, 0x10a0, 0x10a1, 0x10a2, 0x10a3, 0x10a4, 0x10a5, // 0178
        0x10a6, 0x10a7, 0x10a8, 0x10a9, 0x10aa, 0x10ab, 0x10ac, 0x10ad, // 0180
        0x10ae, 0x10af, 0x10b0, 0x10b1, 0x10b2, 0x10b3, 0x10b4, 0x10b5, // 0188
        0x10b6, 0x10b7, 0x10b8, 0x10b9, 0x10ba, 0x10bb, 0x10bc, 0x10bd, // 0190
        0x10be, 0x10bf, 0x10c0, 0x10c1, 0x10c2, 0x10c3, 0x10c4, 0x10c5, // 0198
        0x1e00, 0x1e02, 0x1e04, 0x1e06, 0x1e08, 0x1e0a, 0x1e0c, 0x1e0e, // 01a0
        0x1e10, 0x1e12, 0x1e14, 0x1e16, 0x1e18, 0x1e1a, 0x1e1c, 0x1e1e, // 01a8
        0x1e20, 0x1e22, 0x1e24, 0x1e26, 0x1e28, 0x1e2a, 0x1e2c, 0x1e2e, // 01b0
        0x1e30, 0x1e32, 0x1e34, 0x1e36, 0x1e38, 0x1e3a, 0x1e3c, 0x1e3e, // 01b8
        0x1e40, 0x1e42, 0x1e44, 0x1e46, 0x1e48, 0x1e4a, 0x1e4c, 0x1e4e, // 01c0
        0x1e50, 0x1e52, 0x1e54, 0x1e56, 0x1e58, 0x1e5a, 0x1e5c, 0x1e5e, // 01c8
        0x1e60, 0x1e62, 0x1e64, 0x1e66, 0x1e68, 0x1e6a, 0x1e6c, 0x1e6e, // 01d0
        0x1e70, 0x1e72, 0x1e74, 0x1e76, 0x1e78, 0x1e7a, 0x1e7c, 0x1e7e, // 01d8
        0x1e80, 0x1e82, 0x1e84, 0x1e86, 0x1e88, 0x1e8a, 0x1e8c, 0x1e8e, // 01e0
        0x1e90, 0x1e92, 0x1e94, 0x1ea0, 0x1ea2, 0x1ea4, 0x1ea6, 0x1ea8, // 01e8
        0x1eaa, 0x1eac, 0x1eae, 0x1eb0, 0x1eb2, 0x1eb4, 0x1eb6, 0x1eb8, // 01f0
        0x1eba, 0x1ebc, 0x1ebe, 0x1ec0, 0x1ec2, 0x1ec4, 0x1ec6, 0x1ec8, // 01f8
        0x1eca, 0x1ecc, 0x1ece, 0x1ed0, 0x1ed2, 0x1ed4, 0x1ed6, 0x1ed8, // 0200
        0x1eda, 0x1edc, 0x1ede, 0x1ee0, 0x1ee2, 0x1ee4, 0x1ee6, 0x1ee8, // 0208
        0x1eea, 0x1eec, 0x1eee, 0x1ef0, 0x1ef2, 0x1ef4, 0x1ef6, 0x1ef8, // 0210
        0x1f08, 0x1f09, 0x1f0a, 0x1f0b, 0x1f0c, 0x1f0d, 0x1f0e, 0x1f0f, // 0218
        0x1f18, 0x1f19, 0x1f1a, 0x1f1b, 0x1f1c, 0x1f1d, 0x1f28, 0x1f29, // 0220
        0x1f2a, 0x1f2b, 0x1f2c, 0x1f2d, 0x1f2e, 0x1f2f, 0x1f38, 0x1f39, // 0228
        0x1f3a, 0x1f3b, 0x1f3c, 0x1f3d, 0x1f3e, 0x1f3f, 0x1f48, 0x1f49, // 0230
        0x1f4a, 0x1f4b, 0x1f4c, 0x1f4d, 0x1f59, 0x1f5b, 0x1f5d, 0x1f5f, // 0238
        0x1f68, 0x1f69, 0x1f6a, 0x1f6b, 0x1f6c, 0x1f6d, 0x1f6e, 0x1f6f, // 0240
        0x1fb8, 0x1fb9, 0x1fba, 0x1fbb, 0x1fc8, 0x1fc9, 0x1fca, 0x1fcb, // 0248
        0x1fd8, 0x1fd9, 0x1fda, 0x1fdb, 0x1fe8, 0x1fe9, 0x1fea, 0x1feb, // 0250
        0x1fec, 0x1ff8, 0x1ff9, 0x1ffa, 0x1ffb, 0x2160, 0x2161, 0x2162, // 0258
        0x2163, 0x2164, 0x2165, 0x2166, 0x2167, 0x2168, 0x2169, 0x216a, // 0260
        0x216b, 0x216c, 0x216d, 0x216e, 0x216f, 0x24b6, 0x24b7, 0x24b8, // 0268
        0x24b9, 0x24ba, 0x24bb, 0x24bc, 0x24bd, 0x24be, 0x24bf, 0x24c0, // 0270
        0x24c1, 0x24c2, 0x24c3, 0x24c4, 0x24c5, 0x24c6, 0x24c7, 0x24c8, // 0278
        0x24c9, 0x24ca, 0x24cb, 0x24cc, 0x24cd, 0x24ce, 0x24cf, 0xff21, // 0280
        0xff22, 0xff23, 0xff24, 0xff25, 0xff26, 0xff27, 0xff28, 0xff29, // 0288
        0xff2a, 0xff2b, 0xff2c, 0xff2d, 0xff2e, 0xff2f, 0xff30, 0xff31, // 0290
        0xff32, 0xff33, 0xff34, 0xff35, 0xff36, 0xff37, 0xff38, 0xff39, // 0298
        0xff3a, 0xffff
    };

    pos = SearchCaseArray(UC_CaseLower, (unsigned short)paramCodePoint);
    *(U32*)pReturnValue = (pos < 0)?paramCodePoint:UC_CaseUpper[pos];

    return NULL;
}
